---
apiVersion: v1
kind: Namespace
metadata:
 name: java
---
apiVersion: apps/v1
kind: Deployment
metadata:
 name: spring-boot-app
 namespace: java
 labels:
  app: spring-boot-app-master
spec:
 replicas: 4
 selector:
  matchLabels:
   app: spring-boot-app-master
 template:
  metadata:
   labels:
    app: spring-boot-app-master
  spec:
   containers:
    - name: spring-boot-app-pod
      image: jitulabhi/spring-boot-rest-example:25
      ports:
      - containerPort: 8090
      envFrom:
      - configMapRef:
         name: app-settings
      - secretRef:
         name: secret-info
---
apiVersion: v1
kind: Service
metadata:
 name: spring-boot-app-svc
 namespace: java
 labels:
  kind: service
spec:
 type: LoadBalancer
 selector: 
   app: spring-boot-app-master
 ports:
   - protocol: TCP
     port: 8080
     targetPort: 8090


